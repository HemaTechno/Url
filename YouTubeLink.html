<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุฌุงุฑู ุฅุนุงุฏุฉ ุงูุชูุฌูู...</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

  <script>
    // ุจูุงูุงุช Firebase โ ุบููุฑูุง ุจุจูุงูุงุช ูุดุฑูุนู
    const firebaseConfig = {
  apiKey: "AIzaSyDoK427q44Fj87JhgZh2vKeUnACkjl8HDc",
  authDomain: "treng-c6027.firebaseapp.com",
  projectId: "treng-c6027",
  storageBucket: "treng-c6027.appspot.com",
  messagingSenderId: "305527546716",
  appId: "1:305527546716:web:fd072a58200f31bb42d799",
  measurementId: "G-3JFKFT2LT0"
};


    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // ุญุณุงุจ ุงูุฒูุงุฑุฉ ุงูุฅุฌูุงููุฉ
    function countVisit() {
      const visitsRef = db.ref("visits/total");
      visitsRef.transaction(current => (current || 0) + 1);
    }

    // ุญุณุงุจ ุงูุฒูุงุฑ ุงููุดุทูู ุงูุขู
    function setActiveUser() {
      const connectionsRef = db.ref("activeUsers");
      const myConnectionRef = connectionsRef.push(true);

      // ุนูุฏ ุงูุฅุบูุงู ูุชู ุงูุญุฐู
      myConnectionRef.onDisconnect().remove();

      // ุนุฑุถ ุงูุนุฏุฏ ุนูู ุงูุตูุญุฉ
      connectionsRef.on("value", snapshot => {
        const count = snapshot.numChildren();
        document.getElementById("activeUsers").textContent = count;
      });
    }

    // ุฌูุจ ุฅุฌูุงูู ุงูุฒูุงุฑุงุช
    function showTotalVisits() {
      db.ref("visits/total").on("value", snapshot => {
        const total = snapshot.val() || 0;
        document.getElementById("totalVisits").textContent = total;
      });
    }

    // ุชุดุบูู ุงูุฏูุงู
    window.onload = function () {
      countVisit();
      setActiveUser();
      showTotalVisits();

      // ุฅุนุงุฏุฉ ุงูุชูุฌูู ุจุนุฏ 5 ุซูุงูู
      setTimeout(function () {
        window.location.href = "https://example.com"; // โ ุบููุฑ ุงูุฑุงุจุท ููุง
      }, 5000);
    };
  </script>
</head>
<body class="bg-gradient-to-br from-black via-gray-900 to-black text-white h-screen flex items-center justify-center">
  <div class="text-center p-6 rounded-2xl bg-white/10 backdrop-blur-md shadow-xl border border-red-500">
    <h1 class="text-3xl font-bold text-red-500 mb-4">ุฌุงุฑู ุฅุนุงุฏุฉ ุงูุชูุฌูู</h1>
    <p class="text-lg">ูุฑุฌู ุงูุงูุชุธุงุฑ ููููุงูุ ุณูุชู ุชุญูููู ุชููุงุฆููุง ุฎูุงู ูุญุธุงุช...</p>
    <p class="mt-4 text-sm text-gray-300">ุฅุฐุง ูู ูุชู ุงูุชูุฌููุ <a href="https://example.com" class="underline text-red-400">ุงุถุบุท ููุง ูุฏูููุง</a></p>

    <div class="mt-6 text-sm text-gray-300 space-y-1">
      <p>๐ ุนุฏุฏ ุฒูุงุฑุงุช ุงูุตูุญุฉ: <span id="totalVisits">0</span></p>
      <p>๐๏ธโ๐จ๏ธ ุงูุฒูุงุฑ ุงูุขู: <span id="activeUsers">0</span></p>
    </div>
  </div>
</body>
</html>
